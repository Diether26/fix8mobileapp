<app-loading *ngIf="loading !== false"></app-loading>
<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div id="header">
    <h1>FIX8</h1>
    <img src="assets/icon/logo.png"/>
  </div>
  <form id="form" (submit)="submitForm($event)" novalidate>
    <ion-item lines="full" [ngClass]="{'error-border' :  usrnmisnotValid}">
      <ion-label position="floating">Username</ion-label>
      <ion-input [(ngModel)]="loginData.Username" [ngModelOptions]="{standalone: true}" type="text" (change)="usrnameOnChange($event)" required></ion-input>
    </ion-item>
    <span class="error ion-padding" *ngIf="usrnmisnotValid">
      Username must not be empty!
    </span>
    <ion-item lines="full"  [ngClass]="{'error-border' :  psswrdisnotValid}">
      <ion-label position="floating">Password</ion-label>
        <ion-input [(ngModel)]="loginData.Password" [ngModelOptions]="{standalone: true}" type="{{passtype}}" (change)="pssOnchange($event)" required ></ion-input>
          <ion-icon class="show-option" [hidden]="showPassword" name="eye-off-outline" slot="end" (click)="togglepass(1)"></ion-icon>
          <ion-icon class="hide-option" [hidden]="!showPassword" name="eye-outline" slot="end" (click)="togglepass(0)"></ion-icon>
    </ion-item>
    <span class="error ion-padding" *ngIf="psswrdisnotValid">
      Password must not be empty!
    </span>
    <ion-row id="logindiv">
      <ion-col>
        <ion-button type="submit" color="primary" expand="block" shape="round" size="large" class="sgn_btn">Sign In</ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-button [routerLink]="['/register']" color="secondary" expand="block" shape="round" size="large" class="sgn_btn">Register HomeOwner</ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-button [routerLink]="['/register-electrician']" color="secondary" expand="block" shape="round" size="large" class="sgn_btn">Register Electrician</ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <a (click)="initModal('RESET-PASSWORD')" class="small-text">Forgot Password?</a>
      </ion-col>
    </ion-row>
  </form>
  <ion-modal [isOpen]="modal === 'RESET-PASSWORD'">
    <ng-template>
      <app-loading *ngIf="loadingSubmitReset !== false"></app-loading>
      <ion-header>
        <ion-toolbar color="secondary">
          <ion-buttons slot="start">
            <ion-button (click)="initModal('')">Cancel</ion-button>
          </ion-buttons>
          <ion-title style="text-align: center;">RESET PASSWORD</ion-title>
          <ion-buttons slot="end">
            <ion-button [strong]="true" (click)="submitResetPass()">Submit</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">        
        <ion-item>
          <ion-label position="stacked">Email Address</ion-label>
          <ion-input type="text" [(ngModel)]="email" placeholder="Enter Email Address"></ion-input>
        </ion-item>  
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
